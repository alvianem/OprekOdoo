<?xml version="1.0" encoding="utf-8"?>


<odoo>

<!-- PROJECT -->

<!-- form edit project information-->
    <record id="project_form" model="ir.ui.view">
        <field name="name">project.info.form</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <xpath expr="/form/*" position="before">
                <header>
                    <!-- <button string="assign" type="object" name="action_follow"/> -->
                    <button string="Confirm IWO" type="object" name="propose_progressbar" attrs="{'invisible': [('p_status', '!=', '2iwo')]}" groups="project.group_project_MOPM2"/>
                    <button string="Confirm Team" type="object" name="progress_progressbar" attrs="{'invisible': [('p_status', '!=', 'proposeteam')]}" groups="project.group_project_MOPM1"/>
                    <button string="Proceed to Project Delivered" type="object" name="delivered_progressbar" attrs="{'invisible': [('p_status', '!=', '3progress')]}" groups="project.group_project_MOPM2"/>
                    <button string="Close Project" type="object" name="closed_progressbar" attrs="{'invisible': [('p_status', '!=', '4delivered')]}" groups="project.group_project_MOPM2"/>
                    <button string="Hold" type="object" name="onholdvisible_progressbar" attrs="{'invisible': [('p_status', 'in', ['1created', '6onhold', 'proposeteam'])]}" groups="project.group_project_MOPM2"/>
                    <button string="Continue Project" type="object" name="continue_progressbar" attrs="{'invisible': [('p_status', '!=', '6onhold')]}" groups="project.group_project_MOPM2" confirm="Are you sure you want to CONTINUE this project?"/>
                    <button string="Cancel" type="object" name="cancelvisible_progressbar" attrs="{'invisible': [('p_status', 'in', ['7cancelled', '1created', 'proposeteam'])]}" groups="project.group_project_MOPM2"/>
                    <button string="Uncancel" type="object" name="uncancel_progressbar" attrs="{'invisible': [('p_status', '!=', '7cancelled')]}" groups="project.group_project_MOPM2"/>
                    <!-- <button string="resetiwo" type="object" name="iwo_progressbar" groups="project.group_project_MOPM2"/> -->

                    <field name="p_status" widget="statusbar" statusbar_visible="1created,2iwo,proposeteam,3progress,4delivered,5closed"/>
                </header>
            </xpath>
            <xpath expr='//div[@name="options_active"]' position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr='//field[@name="task_count"]' position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr='//field[@name="user_id"]' position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr='//field[@name="partner_id"]' position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//group[@name='misc']/.." position="after">
                <page name="status" string="Project Information">
                    <group>
                        <field name="p_start_date" string="Start Date" attrs="{'required': True}"/>
                        <field name="revise_start_date" string="Revise Start Date" attrs="{'required': True}"/>
                        <field name="p_end_date" string="End Date" attrs="{'required': True}"/>
                        <field name="revise_end_date" string="Revise End Date" attrs="{'required': True}"/>
                        <field name="type_project" string="Type Project" attrs="{'required': True}"/>
                        <field name="customer_project" string="Customer"/>
                        <field name="customer_group" string="Customer Group" attrs="{'required': True}"/>
                        <field name="project_code" string="Project Code"/>
                        <field name="pmo_in_charge" string="PMO in Charge" attrs="{'required': True}"/>
                        <!--<field name="sales_code" string="Sales Code"/>-->

                        <!-- <field name="refers_to" string="refer"/> -->
<!-- groups="project.group_project_MOPM2" -->
                        <!-- <field name="salesperson" string="salesperson"/> -->
                        <!-- <field name="salesnorelated" string="sales related salerorder.id"/>
                        <field name="salesno" string="sales no input"/>
                        <field name="saleproject_m2o" string="sales project m2o"/> -->
                        <field name="salesidnya" string="Sales No"/>
                        
                        
                        <!-- <field name="deltadate" string="deltadate"/> -->
                        <field name="description" string="Description"/>
                    </group>
                </page>
            </xpath>
            <xpath expr="//notebook" position="inside">
                <page name="checklist" string="Project Checklist">
                    <group name="check">
                        <group string="Request for IWO" attrs="{'invisible': [('p_status', 'in', ['1created', '6onhold'])]}">
                            
                            <!-- <field name="iwodone" string="IWO" attrs="{'readonly': [('p_status', 'not in', '2iwo')]}"/> -->
                            <field name="iwoattach" widget="many2many_binary" />
                    
                        </group>
                        <group string="In Progress" attrs="{'invisible': [('p_status', 'in', ['1created', '2iwo', '6onhold', 'proposeteam'])]}">
                            <!-- <field name="charter" string="Project Charter" attrs="{'readonly': [('p_status', 'not in', '3progress')]}"/> -->
                            <field name="charterattach" widget="many2many_binary"/>
                            <!-- <field name="uat" string="UAT" attrs="{'readonly': [('p_status', 'not in', '3progress')]}"/> -->
                            <field name="uatattach" widget="many2many_binary"/>
                           <!--  <field name="kickoff" string="Kickoff Document" attrs="{'readonly': [('p_status', 'not in', '3progress')]}"/> -->
                            <field name="kickoffattach" widget="many2many_binary"/>
                            
                    
                        </group>
                        <group string="Delivered" attrs="{'invisible': [('p_status', 'in', ['1created', '2iwo', '3progress', '6onhold', 'proposeteam'])]}">
                            <!-- <field name="bast" string="BAST" attrs="{'readonly': [('p_status', 'not in', '4delivered')]}"/> -->
                            <field name="bastattach" widget="many2many_binary"/>
                            <!-- <field name="handover" string="Hand Over Document" attrs="{'readonly': [('p_status', 'not in', '4delivered')]}"/> -->
                            <field name="handoverattach" widget="many2many_binary"/>
                            <!--<button string="Proceed to Project Closed" type="object" name="closed_progressbar"/>-->
                    
                        </group>
                        <group string="Closed" attrs="{'invisible': [('p_status', 'in', ['1created', '2iwo', '3progress', '6onhold', 'proposeteam'])]}">
                            <!-- <field name="closed" string="Project Closed" attrs="{'readonly': [('p_status', 'not in', '4delivered')]}"/> -->
                            <field name="closedattach" widget="many2many_binary"/>

                            
                    
                        </group>
                        <group string="On Hold" attrs="{'invisible': [('onholdvisible', '=', False)]}">>
                            <field name="onholdvisible" string="On Hold visible"/>
                            <field name="suratonholdattach" widget="many2many_binary"/>
                            <button string="HOLD PROJECT" type="object" name="onhold_progressbar"  groups="project.group_project_MOPM2" confirm="Are you sure you want to HOLD this project?"/>


                    
                        </group>
                        <group string="Cancelled" attrs="{'invisible': [('cancelvisible', '=', False)]}">>
                            <field name="cancelvisible" string="Cancel visible"/>
                            <field name="suratcancelattach" widget="many2many_binary"/>
                            <button string="CANCEL PROJECT" type="object" name="cancelled_progressbar" groups="project.group_project_MOPM2" confirm="Are you sure you want to CANCEL this project?"/>

                        </group>
                    </group>
                </page>
            </xpath>
            <!-- <xpath expr="//notebook" position="inside">
                <page name="Sales Order" string="Project IWO" groups="project.group_project_MOPM2">
                    <group name="IWO">
                        <field name="saleproject_o2m"/>
                    </group>
                </page>
            </xpath> -->
            <xpath expr="//div[@class='oe_chatter']">
                <field name="message_ids" widget="mail_thread"/>
            </xpath>
        </field>
    </record>    

<!--FORM VIEW For mopm1-->
<record id="project_form_readonly" model="ir.ui.view">
    <field name="name">project.info.form.readonly</field>
    <field name="model">project.project</field>
    <field name="inherit_id" ref="project.edit_project"/>
    <field name="groups_id" eval="[(6, 0, [ref('project.group_project_MOPM1')])]"/>
    <field name="arch" type="xml">
        <xpath expr="//field[@name='privacy_visibility']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr='//field[@name="user_id"]' position="attributes">
            <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='name']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='p_start_date']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='revise_start_date']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='p_end_date']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='revise_end_date']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='type_project']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='customer_project']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='customer_group']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='project_code']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='pmo_in_charge']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='salesidnya']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='description']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <!-- <xpath expr="//field[@name='iwodone']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='iwoattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='charter']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='charterattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='uat']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='uatattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='kickoff']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='kickoffattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='bast']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='bastattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='handover']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='handoverattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='closed']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='closedattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='suratonhold']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='suratonholdattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='suratcancel']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>
        <xpath expr="//field[@name='suratcancelattach']" position="attributes">
            <attribute name="attrs">{'readonly':True}</attribute>
        </xpath>   -->                          
    </field>
</record>


<!-- search view project information-->
    <record id="project_search" model="ir.ui.view">
        <field name="name">project.info.search</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.view_project_project_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='name']" position="after">
                <field name="p_start_date" string="Start Date"/>
                <field name="revise_start_date" string="Revise Start Date"/>
                <field name="p_end_date" string="End Date"/>
                <field name="revise_end_date" string="Revise End Date"/>
                
                <field name="type_project" string="Type Project"/>
                <field name="p_status" string="Project Status"/>
                <field name="customer_group" string="Customer Group"/>
                <field name="project_no" string="Project No"/>
                <field name="description" string="description"/>
            </xpath>
        </field>
    </record>

    
<!--TREE VIEW-->
        <record id="view_project_tree" model="ir.ui.view">
            <field name="name">project.project.tree.view</field>
            <field name="model">project.project</field>
            <field name="type">tree</field>
            <field name="inherit_id" ref="project.view_project"/>
            
            <field name="arch" type="xml">
                <xpath expr='//tree' position="attributes">
                    
                    <attribute name="default_order">create_date desc</attribute>
                    <attribute name="colors">

                            grey:p_status in ('7cancelled','5closed');

                            blue:p_status=='2iwo';

                            green:p_status=='1created'

                    </attribute>
                </xpath>
                <xpath expr='//field[@name="sequence"]' position="after">
                    <!-- code -->
                    <field name="project_code" string="Project No"/>
                    <field name="salesidnya" string="Sales No"/>

                </xpath>
                <xpath expr='//field[@name="sequence"]' position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <!-- xpath field name di parent tree -->
                <xpath expr='//field[@name="name"]' position="after">
                    <field name="p_start_date" string="Start Date"/>
                    <field name="revise_start_date" string="Revise Start Date"/>
                    <field name="p_end_date" string="End Date"/>
                    <field name="revise_end_date" string="Revise End Date"/>
                    <field name="type_project" string="Type Project"/>
                    <field name="p_status" string="Project Status"/>
                    
                </xpath>
                <xpath expr='//field[@name="user_id"]' position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <!-- xpath field user_id di parent tree -->
                <xpath expr='//tree' position="inside">
                    <field name="customer_project" string="Customer"/>
                    <field name="customer_group" string="Customer Group"/>
                </xpath>
                <xpath expr='//field[@name="partner_id"]' position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>
        <!-- {'active_test': False,} -->


<!--TIMELINE VIEW-->
    <record id="project_timeline_view" model="ir.ui.view">
        <field name="model">project.project</field>
        <field name="type">timeline</field>
        <field name="arch" type="xml">
            <timeline date_start="revise_start_date"
                      date_stop="revise_end_date"
                      default_group_by="project_id"
                      event_open_popup="true"
                      mode="week"
                      colors="
                      #f20f0f: deltadate == 5;
                      #f20f0f: deltadate == 4;
                      #f20f0f: deltadate == 3;
                      #f20f0f: deltadate == 2;
                      #f20f0f: deltadate == 1;
                      #f20f0f: deltadate == 0;
                      #919191: p_status == '7cancelled';
                      #919191: p_status == '5closed'
                      "
                      zoomKey="ctrlKey" />
        </field>
    </record>

<!--CALENDAR VIEW-->
    <record id="view_project_calendar" model="ir.ui.view">
        <field name="name">project.project.calendar.view</field>
        <field name="model">project.project</field>
        <field name="arch" type="xml">
            <calendar string="Project Calendar" 
                date_start="revise_start_date" 
                date_stop="revise_end_date" 
                color="p_status" 
                mode="month"
                >
                <field name="name"/>
            </calendar>
        </field>
    </record>

<!--PIVOT VIEW-->
        <record id="view_project_pivot" model="ir.ui.view">
            <field name="name">project.project.pivot</field>
            <field name="model">project.project</field>
            <field name="arch" type="xml">
                <pivot string="Project Pivot Table">
                    <field name="name" type="row"/>
                </pivot>
            </field>
        </record>

<!--GRAPH VIEW-->
        <record id="view_project_graph" model="ir.ui.view">
            <field name="name">project.project.graph</field>
            <field name="model">project.project</field>
            <field name="arch" type="xml">
                <graph string="Project Graph">
                    <field name="p_status"/>
                    <field name="name"/>
                </graph>
            </field>
        </record>

<!-- PROJECT TEAM -->

<!--PROJECT TEAM IN PROJECT-->
    <record id="project_project_inherit_form_view" model="ir.ui.view">
        <field name="name">project.project.inherit.form.view</field>
        <field name="model">project.project</field>
        <field name="inherit_id" ref="project.edit_project"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='misc']/group" position="attributes">
                <attribute name="colspan">4</attribute>
                <attribute name="col">4</attribute>
            </xpath>
            <group name="misc" position="after">
                <newline/>
                <!-- <group string="Team" colspan="8">
                    <field name="teamdone" string="Team Done"/>
                    <field colspan="4" name="members" widget="many2many_kanban" nolabel="1"
                           >
                        <kanban quick_create="false" create="true" delete="true">
                            <field name="name"/>
                            <templates>
                                <t t-name="kanban-box">
                                    <div style="position: relative">
                                        <a t-if="! read_only_mode" type="delete"
                                           style="position: absolute; right: 0; padding: 4px; diplay: inline-block">
                                            X
                                        </a>
                                        <div class="oe_module_vignette">
                                            <img t-att-src="kanban_image('res.users', 'image_small', record.id.value)"
                                                 class="oe_avatar oe_kanban_avatar_smallbox"/>
                                            <div class="oe_module_desc">
                                                <field name="name"/>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </templates>
                        </kanban>
                    </field>
                </group> -->
                <group string="Team Project">
                    <!-- <field name="teamdone" string="Team Done" groups="project.group_project_MOPM1"/> -->
                    <group colspan="4">
                        <field name="teamo2mp">
                            <tree editable="bottom">
                                <field name="userem2o"/>
                                <!-- <field name="employeem2o"/> -->
                                <field name="status_assign"/>
                                <field name="start_assign"/>
                                <field name="end_assign"/>
                                <button string="Assign" type="object" name="assign_person" class="oe_highlight" attrs="{'invisible': ['|',('status_assign', '=', 'assigned'),('status_assign', '=', 'unassigned')]}"/>
                                <button string="Unassign" type="object" name="unassign_person" class="oe_highlight" attrs="{'invisible': [('status_assign', '!=', 'assigned')]}"/>
                            </tree>
                        </field>
                    </group>
                </group>
            </group>
        </field>
    </record>

<!--PROJECT TEAM HISTORY IN EMPLOYEE-->
    <record id="employee_employee_form_view" model="ir.ui.view">
        <field name="name">user.project.form.view</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page name="projectinfo" string="Project Information">
                    <!-- <group>
                        <group string="Project History">
                            <field name="projectmembers">
                                <tree>
                                    <field name="salesno"/>
                                    <field name="project_code"/>
                                    <field name="name" string="Project Name"/>
                                    <field name="revise_start_date"/>
                                    <field name="revise_end_date"/>
                                    <field name="p_status"/>
                                </tree>
                            </field>
                        </group>
                    </group> -->
                    <group>
                        <group string="Project History" colspan="4">
                            <field name="teamo2me" string="Project History"/>   
                            <field name="countproject"/>
                            <field name="currentproject"/>
                        </group>
                    </group>

                </page>
            </xpath>
            
        </field>
    </record>
<!--PROJECT HISTORY COUNTER INHERIT EMPLOYEE TREE VIEW-->
    <record id="employee_employee_tree_count_view" model="ir.ui.view">
        <field name="name">user.project.tree.count.view</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="inside">
                <field name="currentproject"/>
            </xpath>
        </field>
    </record>
<!--PROJECT HISTORY COUNTER INHERIT EMPLOYEE KANBAN VIEW-->
    <record id="employee_employee_kanban_count_view" model="ir.ui.view">
        <field name="name">user.project.kanban.count.view</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.hr_kanban_view_employees"/>
        <field name="arch" type="xml">
            <xpath expr="//ul" position="inside">
                <li>Current Project : <field name="currentproject" string="Current Project"/></li>
            </xpath>
        </field>
    </record>

    <!--<record model="ir.actions.act_window" id="view_project_team_tree">
            <field name="name">project team</field>
            <field name="res_model">hr.employee</field>
            <field name="view_type">form</field>
            <field name="inherit_id" ref="project.view_project"/>
        </record> -->
<!--PROJECT TEAM TREE VIEW-->
    <record id="view_project_team_tree" model="ir.ui.view">
            <field name="name">project.team.tree.view</field>
            <field name="model">project.team</field>
            <field name="arch" type="xml">
                <tree editable="bottom">
                    <field name="userem2o"/>
                    <field name="projectm2o"/>
                    <!-- <field name="employeem2o"/> -->
                    <field name="status_assign"/>
                    <field name="start_assign"/>
                    <field name="end_assign"/>
                    <button string="Assign" type="object" name="assign_person" attrs="{'invisible': ['|',('status_assign', '=', 'assigned'),('status_assign', '=', 'unassigned')]}"/>
                    <button string="Unassign" type="object" name="unassign_person" attrs="{'invisible': [('status_assign', '!=', 'assigned')]}"/>
                    
                </tree>
            </field>
    </record>
<!--PROJECT TEAM FORM VIEW-->
    <record id="view_project_team_form" model="ir.ui.view">
            <field name="name">project.team.form.view</field>
            <field name="model">project.team</field>
            <field name="arch" type="xml">
                <form string="Project Team">
                    <sheet>
                        <group>
                            <field name="userem2o"/>
                            <field name="projectm2o"/>
                            <!-- <field name="employeem2o"/> -->
                            <field name="status_assign"/>
                            <field name="start_assign"/>
                            <field name="end_assign"/>
                            <button string="Assign" type="object" name="assign_person" attrs="{'invisible': ['|',('status_assign', '=', 'assigned'),('status_assign', '=', 'unassigned')]}"/>
                            <button string="Unassign" type="object" name="unassign_person" attrs="{'invisible': [('status_assign', '!=', 'assigned')]}"/>
                            
                        </group>
                    </sheet>
                </form>
            </field>
    </record>
<!--PROJECT TEAM PIVOT-->
    <record id="view_project_team_pivot" model="ir.ui.view">
            <field name="name">project.team.pivot</field>
            <field name="model">project.team</field>
            <field name="arch" type="xml">
                <pivot string="Project Team Pivot Table">
                    <field name="userem2o" type="row"/>
                    <field name="status_assign"/>
                </pivot>
            </field>
        </record>

<!--PROJECT TEAM GRAPH-->
        <record id="view_project_team_graph" model="ir.ui.view">
            <field name="name">project.team.graph</field>
            <field name="model">project.team</field>
            <field name="arch" type="xml">
                <graph string="Project Team Graph">
                    <field name="userem2o"/>
                    <field name="status_assign"/>
                </graph>
            </field>
        </record>

<!-- PROJECT TEAM GROUP USER VIEW -->
<!-- <record id="project_team_tree_user" model="ir.ui.view">
    <field name="name">project.team.tree.user</field>
    <field name="model">project.team</field>
    <field name="inherit_id" ref="project.view_project_team_tree"/>
    <field name="groups_id" eval="[(6, 0, [ref('project.group_project_user')])]"/>
    <field name="arch" type="xml">

    </field>
</record> -->

<!-- PROJECT TEAM GROUP MANAGER VIEW -->
<!-- <record id="project_team_tree_user" model="ir.ui.view">
    <field name="name">project.team.tree.user</field>
    <field name="model">project.team</field>
    <field name="inherit_id" ref="project.view_project_team_tree"/>
    <field name="groups_id" eval="[(6, 0, [ref('project.group_project_user')])]"/>
    <field name="arch" type="xml">

    </field>
</record> -->

<!-- SALES -->

<!--SALE ORDER INHERIT TREE-->
    <record id="sale_order_convert_view" model="ir.ui.view">
        <field name="name">sale.order.convert.view</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='invoice_status']" position="after">
                <field name="state" string="State"/>
            </xpath>
        </field>
    </record>

<!--SALE ORDER INHERIT FORM-->
    <record id="sale_order_draft_view" model="ir.ui.view">
        <field name="name">sale.order.draft.view</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_cancel']" position="before">
                <button name="action_review" states="draft" string="PMO Review" type="object"/>
                <button name="action_done_review" states="review" string="PMO Reviewed" type="object"/>
                <button name="action_confirm" states="reviewed" string="Confirm Sale" class="o_sale_confirm" type="object"/>
                
            </xpath>
            <xpath expr="//button[@name='action_confirm'][2]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <!-- <xpath expr="//button[2]" position="attributes">
                <attribute name="invisible">['|',('invoice_status', '!=', 'no'), ('state', '!=', 'invoice')</attribute>
            </xpath> -->
            <xpath expr="//notebook" position="inside">
                <page string="Project Information">
                    <group>
                        <field name="projectsale_o2ms" string="Related Project">
                            <field name="projectm2os"/>
                            <field name="projectstate"/>
                        </field>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

<!--PROJECT SALE TREE-->
    <record id="view_project_sale_tree" model="ir.ui.view">
            <field name="name">project.sale.tree.view</field>
            <field name="model">project.sale</field>
            <field name="arch" type="xml">
                <tree editable="top">
                    <field name="projectm2os"/>
                    <field name="projectstate"/>
                </tree>
            </field>
    </record>

<!--PROJECT SALE FORM-->
    <!-- <record id="view_project_sale_form" model="ir.ui.view">
            <field name="name">project.sale.form.view</field>
            <field name="model">project.sale</field>
            <field name="arch" type="xml">
                <form string="Project Sale">
                    <sheet>
                        <group>
                            <field name="projectm2os"/>
                            <field name="salem2os"/>    
                        </group>
                    </sheet>
                </form>
            </field>
    </record> -->

<!-- SALE ORDER VIEW MOPM2 -->
    <record id="sale_order_view_user" model="ir.ui.view">
        <field name="name">sale.order.view.user</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="groups_id" eval="[(6, 0, [ref('project.group_project_MOPM2')])]"/>
        <field name="arch" type="xml">
            
                    
            <xpath expr="//button[@name='print_quotation']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_quotation_send']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            
            <xpath expr="//button[@name='action_cancel']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_done']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='note']" position="attributes">
                <attribute name="attrs">{'readonly':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='payment_term_id']" position="attributes">
                <attribute name="attrs">{'readonly':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='user_id']" position="attributes">
                <attribute name="attrs">{'readonly':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='team_id']" position="attributes">
                <attribute name="attrs">{'readonly':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='client_order_ref']" position="attributes">
                <attribute name="attrs">{'readonly':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='fiscal_position_id']" position="attributes">
                <attribute name="attrs">{'readonly':True}</attribute>
            </xpath>
            <xpath expr="//field[@name='message_follower_ids']" position="attributes">
                <attribute name="attrs">{'readonly':True}</attribute>
            </xpath>

        </field>
    </record>

<!-- action tombol ubah view -->
    <record model="ir.actions.act_window" id="project_list_action">
        <field name="name">Projects</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">tree,form,timeline</field>
        <field name="context">{'default_is_sample': False}</field>
    </record>

    <record model="ir.actions.act_window" id="project_report_action">
        <field name="name">Projects</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">pivot,graph</field>
    </record>

    <record model="ir.actions.act_window" id="project.project_team_action">
        <field name="name">Project Team</field>
        <field name="res_model">project.team</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="project.project_teamreport_action">
        <field name="name">Projects</field>
        <field name="res_model">project.team</field>
        <field name="view_mode">pivot,graph</field>
    </record>

<!-- <record model="ir.actions.act_window" id="project_sale_action">
        <field name="name">Project Sale</field>
        <field name="res_model">project.sale</field>
        <field name="view_mode">tree,form</field>
    </record> -->

<!-- <menuitem id="project_sale_menu" name="Project Sale" action="project_sale_action" parent="sales_team.menu_sales"/> --> -->

    <menuitem id="project_team_menu" name="Project Team" action="project.project_team_action" parent="project.menu_projects" sequence="15"/>
    <!--menuitem parent di home, project dan sales order-->
    <menuitem id="project_menu" name="Projects" action="project_list_action" parent="project.menu_projects" sequence="10"/>
    <menuitem id="project_sales_order" name="Sales Order" action="sale.action_orders" parent="project.menu_projects" sequence="13"/>
    <!--menuitem parent di report, reports dan team report-->
    <menuitem id="project_report" name="Project Reports" action="project_report_action" parent="project.menu_project_report"/>
    <menuitem id="project_teamreport" name="Team Reports" action="project.project_teamreport_action" parent="project.menu_project_report"/>
    

<!--<menuitem id="menuitem_id"
          name="Position/Of/The/Menu/Item/In/The/Tree"
          action="action_id"
          icon="NAME_FROM_LIST"
          groups="groupname"
          sequence="<integer>"/> -->

</odoo>



